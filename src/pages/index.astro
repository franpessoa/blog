---
import BaseLayout from "../layouts/BaseLayout.astro";
import BlogPostCard from "../components/BlogPostCard.astro";
import { prettyDate } from "../utils/dateFormatter";
import { getCollection } from "astro:content";

const allPosts = await getCollection("posts");
console.log(allPosts);
---

<BaseLayout title="Ãndex">
    <ul>
        {
            allPosts.map((post) => (
                <BlogPostCard
                    url={post.id}
                    title={post.data.title}
                    mod={post.data.mod}
                    up={post.data.up}
                />
            ))
        }
    </ul>
</BaseLayout>
